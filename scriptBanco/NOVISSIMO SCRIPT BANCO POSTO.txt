------- NOVO BANCO DE DADOS

CREATE TABLE "FILIAL"(
	"ID_FILIAL" INT NOT NULL PRIMARY KEY 
         GENERATED ALWAYS AS IDENTITY(START WITH 1, INCREMENT BY 1),
	"NOME_FILIAL" VARCHAR(100) NOT NULL,
	"ENDERECO" VARCHAR(200),
	"NUMERO" INT,
	"CEP" VARCHAR(8),
	"CIDADE" VARCHAR(50),
	"ESTADO" VARCHAR(2),
    "STATUS_FILIAL" BOOLEAN 
);


CREATE TABLE "USUARIO"(
	"CPF" VARCHAR(11) NOT NULL PRIMARY KEY,
	"NOME" VARCHAR(50) NOT NULL,
	"SENHA" VARCHAR(20) NOT NULL,
	"ID_FILIAL" INT NOT NULL,
	"PERFIL" INT NOT NULL,
	"FUNCAO" VARCHAR(30),
    "STATUS_USUARIO" BOOLEAN
);
alter table "USUARIO" add foreign key ("ID_FILIAL") references "FILIAL";

CREATE TABLE "PRODUTO"(
	"ID_PRODUTO" INT PRIMARY KEY NOT NULL,
	"NOME_PRODUTO" VARCHAR(20) NOT NULL,
	"TIPO" VARCHAR(20),
	"PRECO" DOUBLE NOT NULL,
    "CATEGORIA"  VARCHAR(3),
	"TAMANHO"     DOUBLE,
	"STATUS_PRODUTO" BOOLEAN 
);


CREATE TABLE VENDA(
	"ID_VENDA" INT NOT NULL PRIMARY KEY
         GENERATED ALWAYS AS IDENTITY(START WITH 1, INCREMENT BY 1),
	"CPF" VARCHAR(11) NOT NULL,
	"ID_FILIAL" INT NOT NULL,
	"ID_PRODUTO" INT NOT NULL,
	"DATA_VENDA" DATE DEFAULT CURRENT_DATE,
	"PRECO_PRODUTO" DOUBLE NOT NULL,
	"VALOR_VENDA" DOUBLE NOT NULL,	
    "STATUS_VENDA" BOOLEAN, 
	"QUANTIDADE" DOUBLE
);
alter table "VENDA" add foreign key ("CPF") references "USUARIO";
alter table "VENDA" add foreign key ("ID_FILIAL") references "FILIAL";
alter table "VENDA" add foreign key ("ID_PRODUTO") references "PRODUTO";

-- INSERINDO FILIAIS
	
    INSERT INTO FILIAL (NOME_FILIAL, ENDERECO, NUMERO, CEP, CIDADE, ESTADO, STATUS_FILIAL)
    VALUES ('MATRIZ', 'RUA DO SENAC', 1000, '12346578', 'SAO PAULO', 'SP', TRUE);

    INSERT INTO FILIAL (NOME_FILIAL, ENDERECO, NUMERO, CEP, CIDADE, ESTADO, STATUS_FILIAL)
    VALUES ('FILIAL RIO DE JANEIRO', 'RUA DO CENTRO', 530, '87654321', 'RIO DE JANEIRO', 'RJ', TRUE);

    INSERT INTO FILIAL (NOME_FILIAL, ENDERECO, NUMERO, CEP, CIDADE, ESTADO, STATUS_FILIAL)
    VALUES ('FILIAL BELO HORIZONTE', 'RUA SUL', 153, '87293475', 'BELO HORIZONTE', 'MG', TRUE);


-- INSERINDO USUARIOS
INSERT INTO USUARIO (CPF, NOME, SENHA, ID_FILIAL, PERFIL, FUNCAO, STATUS_USUARIO)
VALUES ('42741791848', 'THIAGO DINIZ', '123', 1, 1, 'GERENTE', TRUE);

INSERT INTO USUARIO (CPF, NOME, SENHA, ID_FILIAL, PERFIL, FUNCAO, STATUS_USUARIO)
VALUES ('45557123822', 'ANDERSON LEAL', '123MUDAR', 1, 1, 'GERENTE', TRUE); 

INSERT INTO USUARIO (CPF, NOME, SENHA, ID_FILIAL, PERFIL, FUNCAO, STATUS_USUARIO)
VALUES ('43259224823', 'GUILHERME GOMES', '123MUDAR', 2, 1, 'GERENTE', TRUE); 

INSERT INTO PRODUTO (ID_PRODUTO, NOME_PRODUTO, TIPO, PRECO, STATUS_PRODUTO)
VALUES (1,'GASOLINA COMUM', 'COMB',  3.1, TRUE);

-- INSERINDO PRODUTOS

INSERT INTO PRODUTO (ID_PRODUTO, NOME_PRODUTO, TIPO, PRECO, STATUS_PRODUTO)
VALUES (2, 'GASOLINA ADITIVADA', 'COMB',  3.5, TRUE);

INSERT INTO PRODUTO (ID_PRODUTO, NOME_PRODUTO, TIPO, PRECO, STATUS_PRODUTO)
VALUES (3, 'ETANOL', 'COMB', 2.9, TRUE);

INSERT INTO PRODUTO (ID_PRODUTO, NOME_PRODUTO, TIPO, PRECO, STATUS_PRODUTO)
VALUES (4, 'DIESEL',  'COMB', 2.8, TRUE);

INSERT INTO PRODUTO (ID_PRODUTO, NOME_PRODUTO, TIPO, PRECO, TAMANHO, STATUS_PRODUTO)
VALUES (5, 'OLEO', 'PROD' ,60.0, 1.0, TRUE);

INSERT INTO PRODUTO (ID_PRODUTO, NOME_PRODUTO,TIPO, PRECO, CATEGORIA, TAMANHO, STATUS_PRODUTO)
VALUES (6, 'EXTINTOR', 'PROD' , 50.0, 'ABC', 0.9, TRUE);